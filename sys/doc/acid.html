<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=utf8">
<title>Acid Manual</title>
</meta>
</head>
<body>
<p style="margin-top: 0; margin-bottom: 0.50in"></p>
<p style="margin-top: 0; margin-bottom: 0.21in"></p>

<p style="line-height: 1.4em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: center;">
<span style="font-size: 12pt"><b>Acid Manual</b></span></p>
<p style="margin-top: 0; margin-bottom: 0.21in"></p>

<p style="margin-top: 0; margin-bottom: 0.17in"></p>
<p style="line-height: 1.4em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: center;">
<span style="font-size: 10pt"><i>Phil Winterbottom</i></span></p>
<p style="line-height: 1.4em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: center;">
<span style="font-size: 10pt"><i>philw@plan9.bell-labs.com</i></span></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="margin-top: 0; margin-bottom: 0.33in"></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>
<p style="margin-top: 0; margin-bottom: 0.50in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><b>Introduction
</b></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">Acid is a general purpose, source level symbolic debugger.
The debugger is built around a simple command language. 
The command language, distinct from the language of the program being debugged,
provides a flexible user interface that allows the debugger
interface to be customized for a specific application or architecture.
Moreover, it provides an opportunity to write test and
verification code independently of a program&rsquo;s source code.
Acid is able to debug multiple
processes provided they share a common set of symbols, such as the processes in
a threaded program.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">Like other language-based solutions, Acid presents a poor user interface but
provides a powerful debugging tool.
Application of Acid to hard problems is best approached by writing functions off-line
(perhaps loading them with the
</span><span style="font-size: 10pt"><tt>include</tt></span><span style="font-size: 10pt">
function or using the support provided by
</span><span style="font-size: 10pt"><i>acme</i></span><span style="font-size: 10pt">(1)),
rather than by trying to type intricate Acid operations
at the interactive prompt.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">Acid allows the execution of a program to be controlled by operating on its
state while it is stopped and by monitoring and controlling its execution
when it is running. Each program action that causes a change 
of execution state is reflected by the execution
of an Acid function, which may be user defined.
A library of default functions provides the functionality of a normal debugger.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">A Plan 9 process is controlled by writing messages to a control file in the
</span><span style="font-size: 10pt"><i>proc</i></span><span style="font-size: 10pt">(3)
file system. Each control message has a corresponding Acid function, which
sends the message to the process. These functions take a process id
(</span><span style="font-size: 10pt"><i>pid</i></span><span style="font-size: 10pt">)
as an
argument. The memory and text file of the program may be manipulated using
the indirection operators. The symbol table, including source cross reference,
is available to an Acid program. The combination allows complex operations
to be performed both in terms of control flow and data manipulation.
</span></p><p style="margin-top: 0; margin-bottom: 0.17in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><b>Input format and </b></span><span style="font-size: 10pt"><tt>whatis</tt></span><span style="font-size: 10pt"><b>
</b></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">Comments start with
</span><span style="font-size: 10pt"><tt>//</tt></span><span style="font-size: 10pt">
and continue to the end of the line.
Input is a series of statements and expressions separated by semicolons.
At the top level of the interpreter, the builtin function
</span><span style="font-size: 10pt"><tt>print</tt></span><span style="font-size: 10pt">
is called automatically to display the result of all expressions except function calls.
A unary
</span><span style="font-size: 10pt"><tt>+</tt></span><span style="font-size: 10pt">
may be used as a shorthand to force the result of a function call to be printed.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">Also at the top level, newlines are treated as semicolons
by the parser, so semicolons are unnecessary when evaluating expressions.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">When Acid starts, it loads the default program modules,
enters interactive mode, and prints a prompt. In this state Acid accepts
either function definitions or statements to be evaluated.
In this interactive mode
statements are evaluated immediately, while function definitions are
stored for later invocation.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">The
</span><span style="font-size: 10pt"><tt>whatis</tt></span><span style="font-size: 10pt">
operator can be used to report the state of identifiers known to the interpreter.
With no argument,
</span><span style="font-size: 10pt"><tt>whatis</tt></span><span style="font-size: 10pt">
reports the name of all defined Acid functions; when supplied with an identifier
as an argument it reports any variable, function, or type definition
associated with the identifier.
Because of the way the interpreter handles semicolons,
the result of a
</span><span style="font-size: 10pt"><tt>whatis</tt></span><span style="font-size: 10pt">
statement can be returned directly to Acid without adding semicolons.
A syntax error or interrupt returns Acid to the normal evaluation
mode; any partially evaluated definitions are lost.
</span></p><p style="margin-top: 0; margin-bottom: 0.17in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><b>Using the Library Functions
</b></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">After loading the program binary, Acid loads the portable and architecture-specific
library functions  that form the standard debugging environment.
These files are Acid source code and are human-readable.
The following example uses the standard debugging library to show how
language and program interact:
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>% acid /bin/ls</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>/bin/ls:mips plan 9 executable</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.15in"></p>

<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>/sys/lib/acid/port</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>/sys/lib/acid/mips</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: new()</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>75721: system call  _main ADD  $-0x14,R29</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>75721: breakpoint   main+0x4   MOVW  R31,0x0(R29)</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: bpset(ls)</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: cont()</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>75721: breakpoint   ls    ADD  $-0x16c8,R29</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: stk()</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>At pc:0x0000141c:ls /sys/src/cmd/ls.c:87</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>ls(s=0x0000004d,multi=0x00000000) /sys/src/cmd/ls.c:87</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>    called from main+0xf4 /sys/src/cmd/ls.c:79</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>main(argc=0x00000000,argv=0x7ffffff0) /sys/src/cmd/ls.c:48</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>    called from _main+0x20 /sys/src/libc/mips/main9.s:10</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: PC</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>0xc0000f60</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: *PC</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>0x0000141c</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: ls</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>0x0000141c</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">The function
</span><span style="font-size: 10pt"><tt>new()</tt></span><span style="font-size: 10pt">
creates a new process and stops it at the first instruction.
This change in state is reported by a call to the
Acid function
</span><span style="font-size: 10pt"><tt>stopped</tt></span><span style="font-size: 10pt">,
which is called by the interpreter whenever the debugged program stops.
</span><span style="font-size: 10pt"><tt>Stopped</tt></span><span style="font-size: 10pt">
prints the status line giving the pid, the reason the program stopped
and the address and instruction at the current PC.
The function
</span><span style="font-size: 10pt"><tt>bpset</tt></span><span style="font-size: 10pt">
makes an entry in the breakpoint table and plants a breakpoint in memory.
The
</span><span style="font-size: 10pt"><tt>cont</tt></span><span style="font-size: 10pt">
function continues the process, allowing it to run until some condition
causes it to stop. In this case the program hits the breakpoint placed on
the function
</span><span style="font-size: 10pt"><tt>ls</tt></span><span style="font-size: 10pt">
in the C program. Once again the
</span><span style="font-size: 10pt"><tt>stopped</tt></span><span style="font-size: 10pt">
routine is called to print the status of the program. The function
</span><span style="font-size: 10pt"><tt>stk</tt></span><span style="font-size: 10pt">
prints a C stack trace of the current process. It is implemented using
a builtin Acid function that returns the stack trace as a list; the code
that formats the information is all written in Acid. 
The Acid variable
</span><span style="font-size: 10pt"><tt>PC</tt></span><span style="font-size: 10pt">
holds the address of the 
cell where the current value of the processor register
</span><span style="font-size: 10pt"><tt>PC</tt></span><span style="font-size: 10pt">
is stored. By indirecting through
the value of
</span><span style="font-size: 10pt"><tt>PC</tt></span><span style="font-size: 10pt">
the address where the program is stopped can be found.
All of the processor registers are available by the same mechanism.
</span></p><p style="margin-top: 0; margin-bottom: 0.17in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><b>Types
</b></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">An Acid variable has one of four types:
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">,
</span><span style="font-size: 10pt"><i>float</i></span><span style="font-size: 10pt">,
</span><span style="font-size: 10pt"><i>list</i></span><span style="font-size: 10pt">,
or
</span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">.
The type of a variable is inferred from the type of the right-hand
side of the assignment expression which last set its value.
Referencing a variable that has not yet
been assigned draws a "used but not set" error. Many of the operators may
be applied to more than
one type; for these operators the action of the operator is determined by
the types of its operands. The action of each operator is defined in the
</span><span style="font-size: 10pt"><i>Expressions</i></span><span style="font-size: 10pt">
section of this manual.
</span></p><p style="margin-top: 0; margin-bottom: 0.17in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><b>Variables
</b></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">Acid has three kinds of variables: variables defined by the symbol table
of the debugged program, variables that are defined and maintained
by the interpreter as the debugged program changes state, and variables
defined and used by Acid programs.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">Some examples of variables maintained by the interpreter are the register
pointers listed by name in the Acid list variable
</span><span style="font-size: 10pt"><tt>registers</tt></span><span style="font-size: 10pt">,
and the symbol table listed by name and contents in the Acid variable
</span><span style="font-size: 10pt"><tt>symbols</tt></span><span style="font-size: 10pt">.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">The variable
</span><span style="font-size: 10pt"><tt>pid</tt></span><span style="font-size: 10pt">
is updated by the interpreter to select the most recently created process
or the process selected by the
</span><span style="font-size: 10pt"><tt>setproc</tt></span><span style="font-size: 10pt">
builtin function.
</span></p><p style="margin-top: 0; margin-bottom: 0.17in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><b>Formats
</b></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">In addition to a type, variables have formats. The format is a code
letter that determines the printing style and the effect of some of the
operators on that variable. The format codes are derived from the format
letters used by
</span><span style="font-size: 10pt"><i>db</i></span><span style="font-size: 10pt">(1).
By default, symbol table variables and numeric constants
are assigned the format code
</span><span style="font-size: 10pt"><tt>X</tt></span><span style="font-size: 10pt">,
which specifies 32-bit hexadecimal.
Printing a variable with this code yields the output
</span><span style="font-size: 10pt"><tt>0x00123456</tt></span><span style="font-size: 10pt">.
The format code of a variable may be changed from the default by using the 
builtin function
</span><span style="font-size: 10pt"><tt>fmt</tt></span><span style="font-size: 10pt">.
This function takes two arguments, an expression and a format code. After
the expression is evaluated the new format code is attached to the result
and forms the return value from
</span><span style="font-size: 10pt"><tt>fmt</tt></span><span style="font-size: 10pt">.
The backslash operator is a short form of
</span><span style="font-size: 10pt"><tt>fmt</tt></span><span style="font-size: 10pt">.
The format supplied by the backslash operator must be the format character
rather than an expression.
If the result is assigned to a variable the new format code is maintained
in the variable. For example:
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: x=10</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: print(x)</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>0x0000000a </tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: x = fmt(x, &rsquo;D&rsquo;)</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: print(x, fmt(x, &rsquo;X&rsquo;))</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>10 0x0000000a</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: x</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>10</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: x\o</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>12</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">The supported format characters are:
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>o</tt></span><span style="font-size: 10pt">  Print two-byte integer in octal.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>O</tt></span><span style="font-size: 10pt">  Print four-byte integer in octal.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>q</tt></span><span style="font-size: 10pt">  Print two-byte integer in signed octal.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>Q</tt></span><span style="font-size: 10pt">  Print four-byte integer in signed octal.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>B</tt></span><span style="font-size: 10pt">  Print four-byte integer in binary.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>d</tt></span><span style="font-size: 10pt">  Print two-byte integer in signed decimal.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>D</tt></span><span style="font-size: 10pt">  Print four-byte integer in signed decimal.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>V</tt></span><span style="font-size: 10pt">  Print eight-byte integer in signed decimal.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>Z</tt></span><span style="font-size: 10pt">  Print eight-byte integer in unsigned decimal.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>x</tt></span><span style="font-size: 10pt">  Print two-byte integer in hexadecimal.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>X</tt></span><span style="font-size: 10pt">  Print four-byte integer in hexadecimal.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>Y</tt></span><span style="font-size: 10pt">  Print eight-byte integer in hexadecimal.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>u</tt></span><span style="font-size: 10pt">  Print two-byte integer in unsigned decimal.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>U</tt></span><span style="font-size: 10pt">  Print four-byte integer in unsigned decimal.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>f</tt></span><span style="font-size: 10pt">  Print single-precision floating point number.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>F</tt></span><span style="font-size: 10pt">  Print double-precision floating point number.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>g</tt></span><span style="font-size: 10pt">  Print a single precision floating point number in string format.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>G</tt></span><span style="font-size: 10pt">  Print a double precision floating point number in string format.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>b</tt></span><span style="font-size: 10pt">  Print byte in hexadecimal.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>c</tt></span><span style="font-size: 10pt">  Print byte as an ASCII character.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>C</tt></span><span style="font-size: 10pt">  Like
</span><span style="font-size: 10pt"><tt>c</tt></span><span style="font-size: 10pt">,
with
printable ASCII characters represented normally and
others printed in the form </span><span style="font-size: 10pt"><tt>\x</tt></span><span style="font-size: 10pt"><i>nn</i></span><span style="font-size: 10pt">.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>s</tt></span><span style="font-size: 10pt">  Interpret the addressed bytes as UTF characters
and print successive characters until a zero byte is reached.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>r</tt></span><span style="font-size: 10pt">  Print a two-byte integer as a rune.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>R</tt></span><span style="font-size: 10pt">  Print successive two-byte integers as runes
until a zero rune is reached.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>i</tt></span><span style="font-size: 10pt">  Print as machine instructions.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>I</tt></span><span style="font-size: 10pt">  As
</span><span style="font-size: 10pt"><tt>i</tt></span><span style="font-size: 10pt">
above, but print the machine instructions in
an alternate form if possible:
</span><span style="font-size: 10pt"><tt>sunsparc</tt></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><tt>mipsco</tt></span><span style="font-size: 10pt">
reproduce the manufacturers&rsquo; syntax.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.69in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>a</tt></span><span style="font-size: 10pt">  Print the value in symbolic form.
</span></p><p style="margin-top: 0; margin-bottom: 0.17in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><b>Complex types
</b></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">Acid permits the definition of the layout of memory.
The usual method is to use the
</span><span style="font-size: 10pt"><tt>-a</tt></span><span style="font-size: 10pt">
flag of the compilers to produce Acid-language descriptions of data structures (see
</span><span style="font-size: 10pt"><i>2c</i></span><span style="font-size: 10pt">(1))
although such definitions can be typed interactively.
The keywords
</span><span style="font-size: 10pt"><tt>complex</tt></span><span style="font-size: 10pt">,
</span><span style="font-size: 10pt"><tt>adt</tt></span><span style="font-size: 10pt">,
</span><span style="font-size: 10pt"><tt>aggr</tt></span><span style="font-size: 10pt">,
and
</span><span style="font-size: 10pt"><tt>union</tt></span><span style="font-size: 10pt">
are all equivalent; the compiler uses the synonyms to document the declarations.
A complex type is described as a set of members, each containing a format letter,
an offset in the structure, and a name.  For example, the C structure
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>struct List {</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>    int         type;</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>    struct List *next;</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>};</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">is described by the Acid statement
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>complex List {</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>    &rsquo;D&rsquo; 0   type;</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>    &rsquo;X&rsquo; 4   next;</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>};</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><b>Scope
</b></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">Variables are global unless they are either parameters to functions
or are declared as
</span><span style="font-size: 10pt"><tt>local</tt></span><span style="font-size: 10pt">
in a function body. Parameters and local variables are available only in
the body of the function in which they are instantiated.
Variables are dynamically bound: if a function declares a local variable
with the same name as a global variable, the global variable will be hidden
whenever the function is executing.
For example, if a function
</span><span style="font-size: 10pt"><tt>f</tt></span><span style="font-size: 10pt">
has a local called
</span><span style="font-size: 10pt"><tt>main</tt></span><span style="font-size: 10pt">,
any function called below
</span><span style="font-size: 10pt"><tt>f</tt></span><span style="font-size: 10pt">
will see the local version of
</span><span style="font-size: 10pt"><tt>main</tt></span><span style="font-size: 10pt">,
not the external symbol.
</span></p><p style="margin-top: 0; margin-bottom: 0.17in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><b>Addressing
</b></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">Since the symbol table specifies addresses,
to access the value of program variables
an extra level of indirection
is required relative to the source code.
For consistency, the registers are maintained as pointers as well; Acid variables with the names
of processor registers point to cells holding the saved registers.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">The location in a file or memory image associated with
an address is calculated from a map
associated with the file.
Each map contains one or more quadruples (</span><span style="font-size: 10pt"><i>t</i></span><span style="font-size: 10pt">,
</span><span style="font-size: 10pt"><i>b</i></span><span style="font-size: 10pt">,
</span><span style="font-size: 10pt"><i>e</i></span><span style="font-size: 10pt">,
</span><span style="font-size: 10pt"><i>f</i></span><span style="font-size: 10pt">),
defining a segment named
</span><span style="font-size: 10pt"><i>t</i></span><span style="font-size: 10pt">
(usually 
</span><span style="font-size: 10pt"><tt>text</tt></span><span style="font-size: 10pt">,
</span><span style="font-size: 10pt"><tt>data</tt></span><span style="font-size: 10pt">,
</span><span style="font-size: 10pt"><tt>regs</tt></span><span style="font-size: 10pt">,
or
</span><span style="font-size: 10pt"><tt>fpregs</tt></span><span style="font-size: 10pt">)
mapping addresses in the range
</span><span style="font-size: 10pt"><i>b</i></span><span style="font-size: 10pt">
through
</span><span style="font-size: 10pt"><i>e</i></span><span style="font-size: 10pt">
to the part of the file
beginning at
offset
</span><span style="font-size: 10pt"><i>f</i></span><span style="font-size: 10pt">.
The memory model of a Plan 9 process assumes
that segments are disjoint.  There
can be more than one segment of a given type (e.g., a process
may have more than one text segment) but segments
may not overlap.
An address
</span><span style="font-size: 10pt"><i>a</i></span><span style="font-size: 10pt">
is translated
to a file address
by finding a segment
for which
</span><span style="font-size: 10pt"><i>b</i></span><span style="font-size: 10pt">
+
</span><span style="font-size: 10pt"><i>a</i></span><span style="font-size: 10pt">
&lt;
</span><span style="font-size: 10pt"><i>e</i></span><span style="font-size: 10pt">;
the location in the file
is then
</span><span style="font-size: 10pt"><i>address</i></span><span style="font-size: 10pt">
+
</span><span style="font-size: 10pt"><i>f</i></span><span style="font-size: 10pt">
-
</span><span style="font-size: 10pt"><i>b</i></span><span style="font-size: 10pt">.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">Usually,
the text and initialized data of a program
are mapped by segments called 
</span><span style="font-size: 10pt"><tt>text</tt></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><tt>data</tt></span><span style="font-size: 10pt">.
Since a program file does not contain bss, stack, or register data,
these data are
not mapped by the data segment.
The text segment is mapped similarly in the memory image of
a normal (i.e., non-kernel) process.
However, the segment called 
</span><span style="font-size: 10pt"><tt>*data</tt></span><span style="font-size: 10pt">
maps memory from the beginning to the end of the program&rsquo;s data space.
This region contains the program&rsquo;s static data, the bss, the
heap and the stack.  A segment
called
</span><span style="font-size: 10pt"><tt>*regs</tt></span><span style="font-size: 10pt">
maps the registers;
</span><span style="font-size: 10pt"><tt>*fpregs</tt></span><span style="font-size: 10pt">
maps the floating point registers.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">Sometimes it is useful to define a map with a single segment
mapping the region from 0 to 0xFFFFFFFF; such a map
allows the entire file to be examined
without address translation.  The builtin function
</span><span style="font-size: 10pt"><tt>map</tt></span><span style="font-size: 10pt">
examines and modifies Acid&rsquo;s map for a process.
</span></p><p style="margin-top: 0; margin-bottom: 0.17in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><b>Name Conflicts
</b></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">Name conflicts between keywords in the Acid language, symbols in the program,
and previously defined functions are resolved when the interpreter starts up.
Each name is made unique by prefixing enough
</span><span style="font-size: 10pt"><tt>$</tt></span><span style="font-size: 10pt">
characters to the front of the name to make it unique. Acid reports
a list of each name change at startup. The report looks like this:
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>/bin/sam: mips plan 9 executable</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>/lib/acid/port</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>/lib/acid/mips</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>Symbol renames:</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>    append=$append T/0xa4e40</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid:</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">The symbol
</span><span style="font-size: 10pt"><tt>append</tt></span><span style="font-size: 10pt">
is both a keyword and a text symbol in the program. The message reports
that the text symbol is now named
</span><span style="font-size: 10pt"><tt>$append</tt></span><span style="font-size: 10pt">.
</span></p><p style="margin-top: 0; margin-bottom: 0.17in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><b>Expressions
</b></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">Operators have the same
binding and precedence as in C.
For operators of equal precedence, expressions are evaluated from left to right. 
</span></p><p style="margin-top: 0; margin-bottom: 0.17in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><b>Boolean expressions
</b></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">If an expression is evaluated for a boolean condition the test
performed depends on the type of the result. If the result is of
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
or
</span><span style="font-size: 10pt"><i>floating</i></span><span style="font-size: 10pt">
type the result is true if the value is non-zero. If the expression is a
</span><span style="font-size: 10pt"><i>list</i></span><span style="font-size: 10pt">
the result is true if there are any members in the list.
If the expression is a
</span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">
the result is true if there are any characters in the string.
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    primary-expression:</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        identifier</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        identifier </i></span><span style="font-size: 10pt"><tt>:</tt></span><span style="font-size: 10pt"><i> identifier</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        constant</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        </i></span><span style="font-size: 10pt"><tt>(</tt></span><span style="font-size: 10pt"><i> expression </i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt"><i></i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        </i></span><span style="font-size: 10pt"><tt>{</tt></span><span style="font-size: 10pt"><i> elist </i></span><span style="font-size: 10pt"><tt>}</tt></span><span style="font-size: 10pt"><i></i></span></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    elist:</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        elist , expression</i></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">An identifier may be any legal Acid variable. The colon operator returns the
address of parameters or local variables in the current stack of a program.
For example:
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>*main:argc</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">prints the number of arguments passed into main. Local variables and parameters
can only be referenced after the frame has been established. It may be necessary to
step a program over the first few instructions of a breakpointed function to properly set
the frame.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">Constants follow the same lexical rules as C.
A list of expressions delimited by braces forms a list constructor.
A new list is produced by evaluating each expression when the constructor is executed.
The empty list is formed from
</span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt">.
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: x = 10</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: l = { 1, x, 2\D }</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: x = 20</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: l</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>{0x00000001 , 0x0000000a , 2 }</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><b>Lists
</b></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">Several operators manipulate lists.
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    list-expression:</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        primary-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        </i></span><span style="font-size: 10pt"><tt>head</tt></span><span style="font-size: 10pt"><i> primary-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        </i></span><span style="font-size: 10pt"><tt>tail</tt></span><span style="font-size: 10pt"><i> primary-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        </i></span><span style="font-size: 10pt"><tt>append</tt></span><span style="font-size: 10pt"><i> expression </i></span><span style="font-size: 10pt"><tt>,</tt></span><span style="font-size: 10pt"><i> primary-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        </i></span><span style="font-size: 10pt"><tt>delete</tt></span><span style="font-size: 10pt"><i> expression </i></span><span style="font-size: 10pt"><tt>,</tt></span><span style="font-size: 10pt"><i> primary-expression</i></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">The
</span><span style="font-size: 10pt"><i>primary-expression</i></span><span style="font-size: 10pt">
for
</span><span style="font-size: 10pt"><tt>head</tt></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><tt>tail</tt></span><span style="font-size: 10pt">
must yield a value of type
</span><span style="font-size: 10pt"><i>list</i></span><span style="font-size: 10pt">.
If there are no elements in the list the value of
</span><span style="font-size: 10pt"><tt>head</tt></span><span style="font-size: 10pt">
or
</span><span style="font-size: 10pt"><tt>tail</tt></span><span style="font-size: 10pt">
will be the empty list. Otherwise
</span><span style="font-size: 10pt"><tt>head</tt></span><span style="font-size: 10pt">
evaluates to the first element of the list and
</span><span style="font-size: 10pt"><tt>tail</tt></span><span style="font-size: 10pt">
evaluates to the rest.
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: head {}</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>{}</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: head {1, 2, 3, 4}</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>0x00000001 </tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: tail {1, 2, 3, 4}</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>{0x00000002 , 0x00000003 , 0x00000004 }</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">The first operand of
</span><span style="font-size: 10pt"><tt>append</tt></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><tt>delete</tt></span><span style="font-size: 10pt">
must be an expression that yields a
</span><span style="font-size: 10pt"><i>list</i></span><span style="font-size: 10pt">.
</span><span style="font-size: 10pt"><tt>Append</tt></span><span style="font-size: 10pt">
places the result of evaluating
</span><span style="font-size: 10pt"><i>primary-expression</i></span><span style="font-size: 10pt">
at the end of the list.
The
</span><span style="font-size: 10pt"><i>primary-expression</i></span><span style="font-size: 10pt">
supplied to
</span><span style="font-size: 10pt"><tt>delete</tt></span><span style="font-size: 10pt">
must evaluate to an integer;
</span><span style="font-size: 10pt"><tt>delete</tt></span><span style="font-size: 10pt">
removes the 
</span><span style="font-size: 10pt"><i>n</i></span><span style="font-size: 10pt">&rsquo;th
item from the list, where
</span><span style="font-size: 10pt"><i>n</i></span><span style="font-size: 10pt">
is integral value of
</span><span style="font-size: 10pt"><i>primary-expression.</i></span><span style="font-size: 10pt">
List indices are zero-based.
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>    acid: append {1, 2}, 3</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>    {0x00000001 , 0x00000002 , 0x00000003 }</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>    acid: delete {1, 2, 3}, 1</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>    {0x00000001 , 0x00000003 }</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">Assigning a list to a variable copies a reference to the list; if a list variable
is copied it still points at the same list.  To copy a list, the elements must
be copied piecewise using
</span><span style="font-size: 10pt"><tt>head</tt></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><tt>append</tt></span><span style="font-size: 10pt">.
</span></p><p style="margin-top: 0; margin-bottom: 0.17in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><b>Operators
</b></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    postfix-expression:</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        list-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        postfix-expression </i></span><span style="font-size: 10pt"><tt>[</tt></span><span style="font-size: 10pt"><i> expression </i></span><span style="font-size: 10pt"><tt>]</tt></span><span style="font-size: 10pt"><i></i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        postfix-expression </i></span><span style="font-size: 10pt"><tt>(</tt></span><span style="font-size: 10pt"><i> argument-list </i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt"><i></i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        postfix-expression </i></span><span style="font-size: 10pt"><tt>.</tt></span><span style="font-size: 10pt"><i> tag</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        postfix-expression </i></span><span style="font-size: 10pt"><tt>-&gt;</tt></span><span style="font-size: 10pt"><i> tag </i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        postfix-expression </i></span><span style="font-size: 10pt"><tt>++</tt></span><span style="font-size: 10pt"><i></i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        postfix-expression </i></span><span style="font-size: 10pt"><tt>--</tt></span><span style="font-size: 10pt"><i></i></span></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    argument-list:</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        argument-list , expression</i></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">The
</span><span style="font-size: 10pt"><tt>[</tt></span><span style="font-size: 10pt">
</span><span style="font-size: 10pt"><i>expression</i></span><span style="font-size: 10pt">
</span><span style="font-size: 10pt"><tt>]</tt></span><span style="font-size: 10pt">
operator performs indexing.
The indexing expression must result in an expression of
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
type, say
</span><span style="font-size: 10pt"><i>n</i></span><span style="font-size: 10pt">.
The operation depends on the type of
</span><span style="font-size: 10pt"><i>postfix-expression</i></span><span style="font-size: 10pt">.
If the
</span><span style="font-size: 10pt"><i>postfix-expression</i></span><span style="font-size: 10pt">
yields an
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
it is assumed to be the base address of an array in the memory image.
The index offsets into this array; the size of the array members is
determined by the format associated with the
</span><span style="font-size: 10pt"><i>postfix-expression</i></span><span style="font-size: 10pt">.
If the 
</span><span style="font-size: 10pt"><i>postfix-expression</i></span><span style="font-size: 10pt">
yields a
</span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">
the index operator fetches the
</span><span style="font-size: 10pt"><i>n</i></span><span style="font-size: 10pt">&rsquo;th
character
of the string. If the index points beyond the end
of the string, a zero is returned.
If the
</span><span style="font-size: 10pt"><i>postfix-expression</i></span><span style="font-size: 10pt">
yields a
</span><span style="font-size: 10pt"><i>list</i></span><span style="font-size: 10pt">
then the indexing operation returns the
</span><span style="font-size: 10pt"><i>n</i></span><span style="font-size: 10pt">&rsquo;th
item of the list.
If the list contains less than
</span><span style="font-size: 10pt"><i>n</i></span><span style="font-size: 10pt">
items the empty list
</span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt">
is returned.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">The
</span><span style="font-size: 10pt"><tt>++</tt></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><tt>--</tt></span><span style="font-size: 10pt">
operators increment and decrement integer variables.
The amount of increment or decrement depends on the format code. These postfix
operators return the value of the variable before the increment or decrement
has taken place.
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    unary-expression:</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        postfix-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        </i></span><span style="font-size: 10pt"><tt>++</tt></span><span style="font-size: 10pt"><i> unary-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        </i></span><span style="font-size: 10pt"><tt>--</tt></span><span style="font-size: 10pt"><i> unary-expression</i></span></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    unary-operator: one of</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        </i></span><span style="font-size: 10pt"><tt>*</tt></span><span style="font-size: 10pt"><i> </i></span><span style="font-size: 10pt"><tt>@</tt></span><span style="font-size: 10pt"><i> </i></span><span style="font-size: 10pt"><tt>+</tt></span><span style="font-size: 10pt"><i> </i></span><span style="font-size: 10pt"><tt>-</tt></span><span style="font-size: 10pt"><i> ~ </i></span><span style="font-size: 10pt"><tt>!</tt></span><span style="font-size: 10pt"><i></i></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">The operators
</span><span style="font-size: 10pt"><tt>*</tt></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><tt>@</tt></span><span style="font-size: 10pt">
are the indirection operators.
</span><span style="font-size: 10pt"><tt>@</tt></span><span style="font-size: 10pt">
references a value from the text file of the program being debugged.
The size of the value depends on the format code. The
</span><span style="font-size: 10pt"><tt>*</tt></span><span style="font-size: 10pt">
operator fetches a value from the memory image of a process. If either
operator appears on the left-hand side of an assignment statement, either the file
or memory will be written. The file can only be modified when Acid is invoked
with the
</span><span style="font-size: 10pt"><tt>-w</tt></span><span style="font-size: 10pt">
option.
The prefix
</span><span style="font-size: 10pt"><tt>++</tt></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><tt>--</tt></span><span style="font-size: 10pt">
operators perform the same operation as their postfix counterparts but
return the value after the increment or decrement has been performed. Since the
</span><span style="font-size: 10pt"><tt>++</tt></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><tt>*</tt></span><span style="font-size: 10pt">
operators fetch and increment the correct amount for the specified format,
the following function prints correct machine instructions on a machine with
variable length instructions, such as the 68020 or 386:
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>    defn asm(addr)</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>    {</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>        addr = fmt(addr, &rsquo;i&rsquo;);</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>        loop 1, 10 do</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>            print(*addr++, "\n");</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>    }</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">The operators
</span><span style="font-size: 10pt"><tt>~</tt></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><tt>!</tt></span><span style="font-size: 10pt">
perform bitwise and logical negation respectively. Their operands must be of
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
type.
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    cast-expression:</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        unary-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        unary-expression </i></span><span style="font-size: 10pt"><tt>\</tt></span><span style="font-size: 10pt"><i> format-char</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        </i></span><span style="font-size: 10pt"><tt>(</tt></span><span style="font-size: 10pt"><i> complex-name </i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt"><i> unary-expression       </i></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">A unary expression may be preceded by a cast. The cast has the effect of
associating the value of 
</span><span style="font-size: 10pt"><i>unary-expression</i></span><span style="font-size: 10pt">
with a complex type structure.
The result may then be dereferenced using the
</span><span style="font-size: 10pt"><tt>.</tt></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><tt>-&gt;</tt></span><span style="font-size: 10pt">
operators.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">An Acid variable may be associated with a complex type
to enable accessing the type&rsquo;s members:
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: complex List {</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>    &rsquo;D&rsquo; 0   type;</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>    &rsquo;X&rsquo; 4   next;</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>};</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: complex List lhead</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: lhead.type</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>10</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: lhead = ((List)lhead).next</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: lhead.type</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>-46</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">Note that the
</span><span style="font-size: 10pt"><tt>next</tt></span><span style="font-size: 10pt">
field cannot be given a complex type automatically.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">When entered at the top level of the interpreter,
an expression of complex type
is treated specially.
If the type is called
</span><span style="font-size: 10pt"><tt>T</tt></span><span style="font-size: 10pt">
and an Acid function also called
</span><span style="font-size: 10pt"><tt>T</tt></span><span style="font-size: 10pt">
exists,
then that function will be called with the expression as its argument.
The compiler options
</span><span style="font-size: 10pt"><tt>-a</tt></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><tt>-aa</tt></span><span style="font-size: 10pt">
will generate Acid source code defining such complex types and functions; see
</span><span style="font-size: 10pt"><i>2c</i></span><span style="font-size: 10pt">(1).
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">A
</span><span style="font-size: 10pt"><i>unary-expression</i></span><span style="font-size: 10pt">
may be qualified with a format specifier using the
</span><span style="font-size: 10pt"><tt>\</tt></span><span style="font-size: 10pt">
operator. This has the same effect as passing the expression to the
</span><span style="font-size: 10pt"><tt>fmt</tt></span><span style="font-size: 10pt">
builtin function.
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    multiplicative-expression:</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        cast-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        multiplicative-expression </i></span><span style="font-size: 10pt"><tt>*</tt></span><span style="font-size: 10pt"><i> multiplicative-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        multiplicative-expression </i></span><span style="font-size: 10pt"><tt>/</tt></span><span style="font-size: 10pt"><i> multiplicative-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        multiplicative-expression </i></span><span style="font-size: 10pt"><tt>%</tt></span><span style="font-size: 10pt"><i> multiplicative-expression</i></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">These operate on
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
and 
</span><span style="font-size: 10pt"><i>float</i></span><span style="font-size: 10pt">
types and perform the expected operations:
</span><span style="font-size: 10pt"><tt>*</tt></span><span style="font-size: 10pt">
multiplication,
</span><span style="font-size: 10pt"><tt>/</tt></span><span style="font-size: 10pt">
division,
</span><span style="font-size: 10pt"><tt>%</tt></span><span style="font-size: 10pt">
modulus.
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    additive-expression:</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        multiplicative-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        additive-expression </i></span><span style="font-size: 10pt"><tt>+</tt></span><span style="font-size: 10pt"><i> multiplicative-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        additive-expression </i></span><span style="font-size: 10pt"><tt>-</tt></span><span style="font-size: 10pt"><i> multiplicative-expression</i></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">These operators perform as expected for
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
and 
</span><span style="font-size: 10pt"><i>float</i></span><span style="font-size: 10pt">
operands.
Unlike in C,
</span><span style="font-size: 10pt"><tt>+</tt></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><tt>-</tt></span><span style="font-size: 10pt">
do not scale the addition based on the format of the expression.
This means that
</span><span style="font-size: 10pt"><tt>i=i+1</tt></span><span style="font-size: 10pt">
will always add 1 but
</span><span style="font-size: 10pt"><tt>i++</tt></span><span style="font-size: 10pt">
will add the size corresponding to the format stored with
</span><span style="font-size: 10pt"><tt>i</tt></span><span style="font-size: 10pt">.
If both operands are of either
</span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">
or
</span><span style="font-size: 10pt"><i>list</i></span><span style="font-size: 10pt">
type then addition is defined as concatenation. 
Adding a string and an integer is treated as concatenation
with the Unicode character corresponding to the integer.
Subtraction is undefined for strings and lists.
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    shift-expression:</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        additive-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        shift-expression </i></span><span style="font-size: 10pt"><tt>&lt;&lt;</tt></span><span style="font-size: 10pt"><i> additive-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        shift-expression </i></span><span style="font-size: 10pt"><tt>&gt;&gt;</tt></span><span style="font-size: 10pt"><i> additive-expression</i></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">The
</span><span style="font-size: 10pt"><tt>&gt;&gt;</tt></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><tt>&lt;&lt;</tt></span><span style="font-size: 10pt">
operators perform bitwise right and left shifts respectively. Both
require operands of
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
type.
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    relational-expression:</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        relational-expression </i></span><span style="font-size: 10pt"><tt>&lt;</tt></span><span style="font-size: 10pt"><i> shift-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        relational-expression </i></span><span style="font-size: 10pt"><tt>&gt;</tt></span><span style="font-size: 10pt"><i> shift-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        relational-expression </i></span><span style="font-size: 10pt"><tt>&lt;=</tt></span><span style="font-size: 10pt"><i> shift-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        relational-expression </i></span><span style="font-size: 10pt"><tt>&gt;=</tt></span><span style="font-size: 10pt"><i> shift-expression</i></span></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    equality-expression:</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        relational-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        relational-expression </i></span><span style="font-size: 10pt"><tt>==</tt></span><span style="font-size: 10pt"><i> equality-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        relational-expression </i></span><span style="font-size: 10pt"><tt>!=</tt></span><span style="font-size: 10pt"><i> equality-expression</i></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">The comparison operators are
</span><span style="font-size: 10pt"><tt>&lt;</tt></span><span style="font-size: 10pt">
(less than),
</span><span style="font-size: 10pt"><tt>&gt;</tt></span><span style="font-size: 10pt">
(greater than),
</span><span style="font-size: 10pt"><tt>&lt;=</tt></span><span style="font-size: 10pt">
(less than or equal to),
</span><span style="font-size: 10pt"><tt>&gt;=</tt></span><span style="font-size: 10pt">
(greater than or equal to),
</span><span style="font-size: 10pt"><tt>==</tt></span><span style="font-size: 10pt">
(equal to) and
</span><span style="font-size: 10pt"><tt>!=</tt></span><span style="font-size: 10pt">
(not equal to). The result of a comparison is 0
if the condition is false, otherwise 1. The relational operators can only be
applied to operands of
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><i>float</i></span><span style="font-size: 10pt">
type. The equality operators apply to all types.  Comparing mixed types is legal.
Mixed integer and float compare on the integral value.  Other mixtures are always unequal.
Two lists are equal if they
have the same number of members and a pairwise comparison of the members results
in equality.
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    AND-expression:</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        equality-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        AND-expression </i></span><span style="font-size: 10pt"><tt>&amp;</tt></span><span style="font-size: 10pt"><i> equality-expression</i></span></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    XOR-expression:</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        AND-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        XOR-expression </i></span><span style="font-size: 10pt"><tt>^</tt></span><span style="font-size: 10pt"><i> AND-expression</i></span></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    OR-expression:</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        XOR-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        OR-expression </i></span><span style="font-size: 10pt"><tt>|</tt></span><span style="font-size: 10pt"><i> XOR-expression</i></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">These operators perform bitwise logical operations and apply only to the
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
type.
The operators are
</span><span style="font-size: 10pt"><tt>&amp;</tt></span><span style="font-size: 10pt">
(logical and),
</span><span style="font-size: 10pt"><tt>^</tt></span><span style="font-size: 10pt">
(exclusive or) and
</span><span style="font-size: 10pt"><tt>|</tt></span><span style="font-size: 10pt">
(inclusive or).
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    logical-AND-expression:</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        OR-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        logical-AND-expression </i></span><span style="font-size: 10pt"><tt>&amp;&amp;</tt></span><span style="font-size: 10pt"><i> OR-expression</i></span></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    logical-OR-expression:</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        logical-AND-expression</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        logical-OR-expression </i></span><span style="font-size: 10pt"><tt>||</tt></span><span style="font-size: 10pt"><i> logical-AND-expression</i></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">The
</span><span style="font-size: 10pt"><tt>&amp;&amp;</tt></span><span style="font-size: 10pt">
operator returns 1 if both of its operands evaluate to boolean true, otherwise 0.
The
</span><span style="font-size: 10pt"><tt>||</tt></span><span style="font-size: 10pt">
operator returns 1 if either of its operands evaluates to boolean true,
otherwise 0.
</span></p><p style="margin-top: 0; margin-bottom: 0.17in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><b>Statements
</b></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    </i></span><span style="font-size: 10pt"><tt>if</tt></span><span style="font-size: 10pt"><i> expression </i></span><span style="font-size: 10pt"><tt>then</tt></span><span style="font-size: 10pt"><i> statement </i></span><span style="font-size: 10pt"><tt>else</tt></span><span style="font-size: 10pt"><i> statement</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    </i></span><span style="font-size: 10pt"><tt>if</tt></span><span style="font-size: 10pt"><i> expression </i></span><span style="font-size: 10pt"><tt>then</tt></span><span style="font-size: 10pt"><i> statement</i></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">The
</span><span style="font-size: 10pt"><i>expression</i></span><span style="font-size: 10pt">
is evaluated as a boolean. If its value is true the statement after
the
</span><span style="font-size: 10pt"><tt>then</tt></span><span style="font-size: 10pt">
is executed, otherwise the statement after the
</span><span style="font-size: 10pt"><tt>else</tt></span><span style="font-size: 10pt">
is executed. The 
</span><span style="font-size: 10pt"><tt>else</tt></span><span style="font-size: 10pt">
portion may be omitted.
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    </i></span><span style="font-size: 10pt"><tt>while</tt></span><span style="font-size: 10pt"><i> expression </i></span><span style="font-size: 10pt"><tt>do</tt></span><span style="font-size: 10pt"><i> statement</i></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">In a while loop, the
</span><span style="font-size: 10pt"><i>statement</i></span><span style="font-size: 10pt">
is executed while the boolean
</span><span style="font-size: 10pt"><i>expression</i></span><span style="font-size: 10pt">
evaluates
true.
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    </i></span><span style="font-size: 10pt"><tt>loop</tt></span><span style="font-size: 10pt"><i> startexpr, endexpr </i></span><span style="font-size: 10pt"><tt>do</tt></span><span style="font-size: 10pt"><i> statement</i></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">The two expressions
</span><span style="font-size: 10pt"><i>startexpr</i></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><i>endexpr</i></span><span style="font-size: 10pt">
are evaluated prior to loop entry.
</span><span style="font-size: 10pt"><i>Statement</i></span><span style="font-size: 10pt">
is evaluated while the value of
</span><span style="font-size: 10pt"><i>startexpr</i></span><span style="font-size: 10pt">
is less than or equal to
</span><span style="font-size: 10pt"><i>endexpr</i></span><span style="font-size: 10pt">.
Both expressions must yield
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
values. The value of
</span><span style="font-size: 10pt"><i>startexpr</i></span><span style="font-size: 10pt">
is
incremented by one for each loop iteration.
Note that there is no explicit loop variable; the
</span><span style="font-size: 10pt"><i>expressions</i></span><span style="font-size: 10pt">
are just values.
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    </i></span><span style="font-size: 10pt"><tt>return</tt></span><span style="font-size: 10pt"><i> expression</i></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>return</tt></span><span style="font-size: 10pt">
terminates execution of the current function and returns to its caller.
The value of the function is given by expression. Since
</span><span style="font-size: 10pt"><tt>return</tt></span><span style="font-size: 10pt">
requires an argument, nil-valued functions should return the empty list
</span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt">.
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    </i></span><span style="font-size: 10pt"><tt>local</tt></span><span style="font-size: 10pt"><i> variable</i></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">The
</span><span style="font-size: 10pt"><tt>local</tt></span><span style="font-size: 10pt">
statement creates a local instance of
</span><span style="font-size: 10pt"><i>variable</i></span><span style="font-size: 10pt">,
which exists for the duration
of the instance of the function in which it is declared. Binding is dynamic: the local variable,
rather than the previous value of
</span><span style="font-size: 10pt"><i>variable</i></span><span style="font-size: 10pt">,
is visible to called functions.
After a return from the current function the previous value of
</span><span style="font-size: 10pt"><i>variable</i></span><span style="font-size: 10pt">
is
restored.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">If Acid is interrupted, the values of all local variables are lost,
as if the function returned.
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    </i></span><span style="font-size: 10pt"><tt>defn</tt></span><span style="font-size: 10pt"><i> function-name </i></span><span style="font-size: 10pt"><tt>(</tt></span><span style="font-size: 10pt"><i> parameter-list </i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt"><i> body</i></span></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    parameter-list:</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        variable</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        parameter-list , variable</i></span></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>    body:</i></span></p>
<p style="line-height: 1.2em; margin-left: 1.50in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><i>        </i></span><span style="font-size: 10pt"><tt>{</tt></span><span style="font-size: 10pt"><i> statement </i></span><span style="font-size: 10pt"><tt>}</tt></span><span style="font-size: 10pt"><i></i></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">Functions are introduced by the
</span><span style="font-size: 10pt"><tt>defn</tt></span><span style="font-size: 10pt">
statement. The definition of parameter names suppresses any variables
of the same name until the function returns. The body of a function is a list
of statements enclosed by braces.
</span></p><p style="margin-top: 0; margin-bottom: 0.17in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><b>Code variables
</b></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">Acid permits the delayed evaluation of a parameter to a function.  The parameter
may then be evaluated at any time with the
</span><span style="font-size: 10pt"><tt>eval</tt></span><span style="font-size: 10pt">
operator.  Such parameters are called
</span><span style="font-size: 10pt"><i>code variables</i></span><span style="font-size: 10pt">
and are defined by prefixing their name with an asterisk in their declaration.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">For example, this function wraps up an expression for later evaluation:
</span></p><p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: defn code(*e) { return e; }</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: x = code(v+atoi("100")\D)</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: print(x)</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>(v+atoi("100"))\D;</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: eval x</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>&lt;stdin&gt;:5: (error) v used but not set</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: v=5</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>acid: eval x</tt></span></p>
<p style="line-height: 1.1em; margin-left: 1.28in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 9pt"><tt>105</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>

<p style="margin-top: 0; margin-bottom: 0.08in"></p>
<p style="margin-top: 0; margin-bottom: 0.17in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><b>Source Code Management
</b></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">Acid provides the means to examine source code. Source code is
represented by lists of strings. Builtin functions provide mapping
from address to lines and vice-versa. The default debugging environment
has the means to load and display source files.
</span></p><p style="margin-top: 0; margin-bottom: 0.17in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><b>Builtin Functions
</b></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">The Acid interpreter has a number of builtin functions, which cannot be redefined.
These functions perform machine- or operating system-specific functions such as
symbol table and process management.
The following section presents a description of each builtin function.
The notation
</span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt">
is used to denote the empty list, which is the default value of a function that
does not execute a
</span><span style="font-size: 10pt"><tt>return</tt></span><span style="font-size: 10pt">
statement.
The type and number of parameters for each function are specified in the
description; where a parameter can be of any type it is specified as type
</span><span style="font-size: 10pt"><i>item</i></span><span style="font-size: 10pt">.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">  </span><span style="font-size: 10pt"><tt>access(</tt></span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Check if a file can be read
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>Access</tt></span><span style="font-size: 10pt">
returns the integer 1 if the file name in
</span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">
can be read by the builtin functions
</span><span style="font-size: 10pt"><tt>file</tt></span><span style="font-size: 10pt">,
</span><span style="font-size: 10pt"><tt>readfile</tt></span><span style="font-size: 10pt">,
or
</span><span style="font-size: 10pt"><tt>include</tt></span><span style="font-size: 10pt">,
otherwise 0. A typical use of this function is to follow
a search path looking for a source file; it is used by
</span><span style="font-size: 10pt"><tt>findsrc</tt></span><span style="font-size: 10pt">.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>if access("main.c") then</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    return file("main.c");</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i>float</i></span><span style="font-size: 10pt">  </span><span style="font-size: 10pt"><tt>atof(</tt></span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Convert a string to float
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>atof</tt></span><span style="font-size: 10pt">
converts the string supplied as its argument into a floating point
number. The function accepts strings in the same format as the C
function of the same name. The value returned has the format code
</span><span style="font-size: 10pt"><tt>f</tt></span><span style="font-size: 10pt">.
</span><span style="font-size: 10pt"><tt>atof</tt></span><span style="font-size: 10pt">
returns the value 0.0 if it is unable to perform the conversion.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: +atof("10.4e6")</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>1.04e+07</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">  </span><span style="font-size: 10pt"><tt>atoi(</tt></span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Convert a string to an integer
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>atoi</tt></span><span style="font-size: 10pt">
converts the argument
to an integer value.
The function accepts strings in the same format as the C function of the
same name. The value returned has the format code
</span><span style="font-size: 10pt"><tt>D</tt></span><span style="font-size: 10pt">.
</span><span style="font-size: 10pt"><tt>atoi</tt></span><span style="font-size: 10pt">
returns the integer 0 if it is unable to perform a conversion.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: +atoi("-1255")</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>-1255</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>error(</tt></span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Generate an interpreter error
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>error</tt></span><span style="font-size: 10pt">
generates an error message and returns the interpreter to interactive
mode. If an Acid program is running, it is aborted.
Processes being debugged are not affected. The values of all local variables are lost.
</span><span style="font-size: 10pt"><tt>error</tt></span><span style="font-size: 10pt">
is commonly used to stop the debugger when some interesting condition arises
in the debugged program.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>while 1 do {</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    step();</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    if *main != @main then</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>        error("memory corrupted");</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>}</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i>list</i></span><span style="font-size: 10pt">  </span><span style="font-size: 10pt"><tt>file(</tt></span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Read the contents of a file into a list
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>file</tt></span><span style="font-size: 10pt">
reads the contents of the file specified by
</span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">
into a list.
Each element in the list is a string corresponding to a line in the file.
</span><span style="font-size: 10pt"><tt>file</tt></span><span style="font-size: 10pt">
breaks lines at the newline character, but the newline
characters are not returned as part each string.
</span><span style="font-size: 10pt"><tt>file</tt></span><span style="font-size: 10pt">
returns the empty list if it encounters an error opening or reading the data.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: print(file("main.c")[0])</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>#include    &lt;u.h&gt;</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">  </span><span style="font-size: 10pt"><tt>filepc(</tt></span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Convert source address to text address
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>filepc</tt></span><span style="font-size: 10pt">
interprets its
</span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">
argument as a source file address in the form of a file name and line offset.
</span><span style="font-size: 10pt"><tt>filepc</tt></span><span style="font-size: 10pt">
uses the symbol table to map the source address into a text address
in the debugged program. The
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
return value has the format
</span><span style="font-size: 10pt"><tt>X</tt></span><span style="font-size: 10pt">.
</span><span style="font-size: 10pt"><tt>filepc</tt></span><span style="font-size: 10pt">
returns an address of -1 if the source address is invalid.
The source file address uses the same format as
</span><span style="font-size: 10pt"><i>acme</i></span><span style="font-size: 10pt">(1).
This function is commonly used to set breakpoints from the source text.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: bpset(filepc("main:10"))</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: bptab()</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    0x00001020 usage  ADD   $-0xc,R29</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i>item</i></span><span style="font-size: 10pt">  </span><span style="font-size: 10pt"><tt>fmt(</tt></span><span style="font-size: 10pt"><i>item,fmt</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Set print, </span><span style="font-size: 10pt"><tt>@</tt></span><span style="font-size: 10pt"> and </span><span style="font-size: 10pt"><tt>*</tt></span><span style="font-size: 10pt"> formats
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>fmt</tt></span><span style="font-size: 10pt">
evaluates the expression
</span><span style="font-size: 10pt"><i>item</i></span><span style="font-size: 10pt">
and sets the format of the result to
</span><span style="font-size: 10pt"><i>fmt</i></span><span style="font-size: 10pt">.
The format of a value determines how it will be printed and
what kind of object will be fetched by the
</span><span style="font-size: 10pt"><tt>*</tt></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><tt>@</tt></span><span style="font-size: 10pt">
operators. The
</span><span style="font-size: 10pt"><tt>\</tt></span><span style="font-size: 10pt">
operator is a short-hand form of the
</span><span style="font-size: 10pt"><tt>fmt</tt></span><span style="font-size: 10pt">
builtin function. The
</span><span style="font-size: 10pt"><tt>fmt</tt></span><span style="font-size: 10pt">
function leaves the format of the
</span><span style="font-size: 10pt"><i>item</i></span><span style="font-size: 10pt">
unchanged.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: main=fmt(main, &rsquo;i&rsquo;) // as instructions</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: print(main\X, "\t", *main)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>0x00001020 ADD  $-64,R29</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i>fmt</i></span><span style="font-size: 10pt">  </span><span style="font-size: 10pt"><tt>fmtof(</tt></span><span style="font-size: 10pt"><i>item</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Get format
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>fmtof</tt></span><span style="font-size: 10pt">
evaluates the expression
</span><span style="font-size: 10pt"><i>item</i></span><span style="font-size: 10pt">
and returns the format of the result.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: +fmtof(33)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>W</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: +fmtof("string")</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>s</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">  </span><span style="font-size: 10pt"><tt>fmtsize(</tt></span><span style="font-size: 10pt"><i>item</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Get format size
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>fmtsize</tt></span><span style="font-size: 10pt">
evaluates the expression
</span><span style="font-size: 10pt"><i>item</i></span><span style="font-size: 10pt">
and returns the size in bytes of a single element of result&rsquo;s format.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: +fmtsize(&rsquo;c&rsquo;)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>8</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: +fmtsize(&rsquo;c&rsquo;\c)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>1</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: +fmtsize(0\X)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>4</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: +fmtsize(&rsquo;c&rsquo;\3)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>10</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i>list</i></span><span style="font-size: 10pt">  </span><span style="font-size: 10pt"><tt>fnbound(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Find start and end address of a function
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>fnbound</tt></span><span style="font-size: 10pt">
interprets its
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
argument as an address in the text of the debugged program.
</span><span style="font-size: 10pt"><tt>fnbound</tt></span><span style="font-size: 10pt">
returns a list containing two integers corresponding to
the start and end addresses of the function containing the supplied address.
If the
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
address is not in the text segment of the program then the empty list is returned.
</span><span style="font-size: 10pt"><tt>fnbound</tt></span><span style="font-size: 10pt">
is used by
</span><span style="font-size: 10pt"><tt>next</tt></span><span style="font-size: 10pt">
to detect stepping into new functions.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: print(fnbound(main))</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>{0x00001050, 0x000014b8}</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>follow(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Compute follow set
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">The follow set is defined as the set of program counter values that could result
from executing an instruction.
</span><span style="font-size: 10pt"><tt>follow</tt></span><span style="font-size: 10pt">
interprets its
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
argument as a text address, decodes the instruction at
that address and, with the current register set, builds a list of possible
next program counter values. If the instruction at the specified address
cannot be decoded
</span><span style="font-size: 10pt"><tt>follow</tt></span><span style="font-size: 10pt">
raises an error.
</span><span style="font-size: 10pt"><tt>follow</tt></span><span style="font-size: 10pt">
is used to plant breakpoints on
all potential paths of execution. The following code fragment
plants breakpoints on top of all potential following instructions.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>lst = follow(*PC);</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>while lst do</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>{</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    *head lst = bpinst;</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    lst = tail lst;</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>}</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>include(</tt></span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Take input from a new file
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>include</tt></span><span style="font-size: 10pt">
opens the file specified by
</span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">
and uses its contents as command input to the interpreter.
The interpreter restores input to its previous source when it encounters
either an end of file or an error.
</span><span style="font-size: 10pt"><tt>include</tt></span><span style="font-size: 10pt">
can be used to incrementally load symbol table information without
leaving the interpreter.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: include("/sys/src/cmd/acme/syms")</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>interpret(</tt></span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Take input from a string
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>interpret</tt></span><span style="font-size: 10pt">
evaluates the
</span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">
expression and uses its result as command input for the interpreter.
The interpreter restores input to its previous source when it encounters
either the end of string or an error. The
</span><span style="font-size: 10pt"><tt>interpret</tt></span><span style="font-size: 10pt">
function allows Acid programs to write Acid code for later evaluation.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: interpret("main+10;")</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>0x0000102a</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">  </span><span style="font-size: 10pt"><tt>itoa(</tt></span><span style="font-size: 10pt"><i>integer[,string]</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Convert integer to string
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>itoa</tt></span><span style="font-size: 10pt">
takes an integer argument and converts it into an ASCII string
in the
</span><span style="font-size: 10pt"><tt>D</tt></span><span style="font-size: 10pt">
format.
an alternate format string
may be provided in the
</span><span style="font-size: 10pt"><tt>%</tt></span><span style="font-size: 10pt">
style of
</span><span style="font-size: 10pt"><i>print</i></span><span style="font-size: 10pt">(2).
This function is commonly used to build
</span><span style="font-size: 10pt"><tt>rc</tt></span><span style="font-size: 10pt">
command lines.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: rc("cat /proc/"+itoa(pid)+"/segment")</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>Stack    7fc00000 80000000    1</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>Data     00001000 00009000    1</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>Data     00009000 0000a000    1</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>Bss      0000a000 0000c000    1</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>kill(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Kill a process
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>kill</tt></span><span style="font-size: 10pt">
writes a kill control message into the control file of the process
specified by the
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
pid.
If the process was previously installed by
</span><span style="font-size: 10pt"><tt>setproc</tt></span><span style="font-size: 10pt">
it will be removed from the list of active processes.
If the
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
has the same value as
</span><span style="font-size: 10pt"><tt>pid</tt></span><span style="font-size: 10pt">,
then
</span><span style="font-size: 10pt"><tt>pid</tt></span><span style="font-size: 10pt">
will be set to 0.
To continue debugging, a new process must be selected using
</span><span style="font-size: 10pt"><tt>setproc</tt></span><span style="font-size: 10pt">.
For example, to kill all the active processes:
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>while proclist do {</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    kill(head proclist);</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    proclist = tail proclist;</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>}</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i>list</i></span><span style="font-size: 10pt">  </span><span style="font-size: 10pt"><tt>map(</tt></span><span style="font-size: 10pt"><i>list</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Set or retrieve process memory map
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>map</tt></span><span style="font-size: 10pt">
either retrieves all the mappings associated with a process or sets a single
map entry to a new value.
If the
</span><span style="font-size: 10pt"><i>list</i></span><span style="font-size: 10pt">
argument is omitted then
</span><span style="font-size: 10pt"><tt>map</tt></span><span style="font-size: 10pt">
returns a list of lists. Each sublist has four values and describes a
single region of contiguous addresses in the
memory or file image of the debugged program. The first entry is the name of the
mapping. If the name begins with
</span><span style="font-size: 10pt"><tt>*</tt></span><span style="font-size: 10pt">
it denotes a map into the memory of an active process.
The second and third values specify the base and end
address of the region and the fourth number specifies the offset in the file
corresponding to the first location of the region.
A map entry may be set by supplying a list in the same format as the sublist
described above. The name of the mapping must match a region already defined
by the current map.
Maps are set automatically for Plan 9 processes and some kernels; they may
need to be set by hand for other kernels and programs that run on bare hardware.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: map({"text", _start, end, 0x30})</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">  </span><span style="font-size: 10pt"><tt>match(</tt></span><span style="font-size: 10pt"><i>item,list</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Search list for matching value
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>match</tt></span><span style="font-size: 10pt">
compares each item in
</span><span style="font-size: 10pt"><i>list</i></span><span style="font-size: 10pt">
using the equality operator
</span><span style="font-size: 10pt"><tt>==</tt></span><span style="font-size: 10pt">
with
</span><span style="font-size: 10pt"><i>item</i></span><span style="font-size: 10pt">.
The
</span><span style="font-size: 10pt"><i>item</i></span><span style="font-size: 10pt">
can be of any type. If the match succeeds the result is the integer index
of the matching value, otherwise -1.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: list={8,9,10,11}</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: print(list[match(10, list)]\D)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>10</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>newproc(</tt></span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Create a new process
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>newproc</tt></span><span style="font-size: 10pt">
starts a new process with an argument vector constructed from
</span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">.
The argument vector excludes the name of the program to execute and
each argument in
</span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">
must be space separated. A new process can accept no more
than 512 arguments. The internal variable
</span><span style="font-size: 10pt"><tt>pid</tt></span><span style="font-size: 10pt">
is set to the pid of the newly created process. The new pid
is also appended to the list of active processes stored in the variable
</span><span style="font-size: 10pt"><tt>proclist</tt></span><span style="font-size: 10pt">.
The new process is created then halted at the first instruction, causing
the debugger to call
</span><span style="font-size: 10pt"><tt>stopped</tt></span><span style="font-size: 10pt">.
The library functions
</span><span style="font-size: 10pt"><tt>new</tt></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><tt>win</tt></span><span style="font-size: 10pt">
should be used to start processes when using the standard debugging
environment.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: newproc("-l .")</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>56720: system call  _main   ADD $-0x14,R29</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">  </span><span style="font-size: 10pt"><tt>pcfile(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Convert text address to source file name
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>pcfile</tt></span><span style="font-size: 10pt">
interprets its
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
argument as a text address in the debugged program. The address and symbol table
are used to generate a string containing the name of the source file
corresponding to the text address. If the address does not lie within the
program the string
</span><span style="font-size: 10pt"><tt>?file?</tt></span><span style="font-size: 10pt">
is returned.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: print("Now at ", pcfile(*PC), ":", pcline(*PC))</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>Now at ls.c:46 </tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">  </span><span style="font-size: 10pt"><tt>pcline(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Convert text address to source line number
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>pcline</tt></span><span style="font-size: 10pt">
interprets its
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
argument as a text address in the debugged program. The address and symbol table
are used to generate an integer containing the line number in the source file
corresponding to the text address. If the address does not lie within the
program the integer 0 is returned.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: +file("main.c")[pcline(main)]</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>main(int argc, char *argv[])</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>print(</tt></span><span style="font-size: 10pt"><i>item,item,...</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Print expressions
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>print</tt></span><span style="font-size: 10pt">
evaluates each
</span><span style="font-size: 10pt"><i>item</i></span><span style="font-size: 10pt">
supplied in its argument list and prints it to standard output. Each
argument will be printed according to its associated format character.
When the interpreter is executing, output is buffered and flushed every
5000 statements or when the interpreter returns to interactive mode.
</span><span style="font-size: 10pt"><tt>print</tt></span><span style="font-size: 10pt">
accepts a maximum of 512 arguments.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: print(10, "decimal ", 10\D, "octal ", 10\o)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>0x0000000a decimal 10 octal 000000000012 </tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: print({1, 2, 3})</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>{0x00000001 , 0x00000002 , 0x00000003 }</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: print(main, main\a, "\t", @main\i)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>0x00001020 main ADD $-64,R29</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>printto(</tt></span><span style="font-size: 10pt"><i>string,item,item,...</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Print expressions to file
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>printto</tt></span><span style="font-size: 10pt">
offers a limited form of output redirection. The first
</span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">
argument is used as the path name of a new file to create.
Each
</span><span style="font-size: 10pt"><i>item</i></span><span style="font-size: 10pt">
is then evaluated and printed to the newly created file. When all items
have been printed the file is closed.
</span><span style="font-size: 10pt"><tt>printto</tt></span><span style="font-size: 10pt">
accepts a maximum of 512 arguments.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: printto("/env/foo", "hello")</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: rc("echo -n $foo")</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>hello</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">  </span><span style="font-size: 10pt"><tt>rc(</tt></span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Execute a shell command
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>rc</tt></span><span style="font-size: 10pt">
evaluates
</span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">
to form a shell command. A new command interpreter is started
to execute the command. The Acid interpreter blocks until the command
completes. The return value is the empty string
if the command succeeds, otherwise the exit status of the failed command.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: rc("B "+itoa(-pcline(addr))+" "+pcfile(addr));</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">  </span><span style="font-size: 10pt"><tt>readfile(</tt></span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Read file contents into a string
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>readfile</tt></span><span style="font-size: 10pt">
takes the contents of the file specified by
</span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">
and returns its contents as a new string.
If
</span><span style="font-size: 10pt"><tt>readfile</tt></span><span style="font-size: 10pt">
encounters a zero byte in the file, it terminates.
If
</span><span style="font-size: 10pt"><tt>readfile</tt></span><span style="font-size: 10pt">
encounters an error opening or reading the file then the empty list
is returned.
</span><span style="font-size: 10pt"><tt>readfile</tt></span><span style="font-size: 10pt">
can be used to read the contents of device files whose lines are not
terminated with newline characters.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: ""+readfile("/dev/label")</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>helix</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">  </span><span style="font-size: 10pt"><tt>reason(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Print cause of program stoppage
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>reason</tt></span><span style="font-size: 10pt">
uses machine-dependent information to generate a string explaining
why a process has stopped. The
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
argument is the value of an architecture dependent status register,
for example
</span><span style="font-size: 10pt"><tt>CAUSE</tt></span><span style="font-size: 10pt">
on the MIPS.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: print(reason(*CAUSE))</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>system call</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">  </span><span style="font-size: 10pt"><tt>regexp(</tt></span><span style="font-size: 10pt"><i>pattern,string</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Regular expression match
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>regexp</tt></span><span style="font-size: 10pt">
matches the
</span><span style="font-size: 10pt"><i>pattern</i></span><span style="font-size: 10pt">
string supplied as its first argument with the 
</span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">
supplied as its second.
If the pattern matches the result is the value 1, otherwise 0.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: print(regexp(".*bar", "foobar"))</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>1</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>setproc(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Set debugger focus
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>setproc</tt></span><span style="font-size: 10pt">
selects the default process used for memory and control operations. It effectively
shifts the focus of control between processes. The 
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
argument specifies the pid of the process to look at.
The variable
</span><span style="font-size: 10pt"><tt>pid</tt></span><span style="font-size: 10pt">
is set to the pid of the selected process. If the process is being
selected for the first time its pid is added to the list of active
processes
</span><span style="font-size: 10pt"><tt>proclist</tt></span><span style="font-size: 10pt">.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: setproc(68382)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: procs()</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>&gt;68382: Stopped at main+0x4 setproc(68382)</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>start(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Restart execution
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>start</tt></span><span style="font-size: 10pt">
writes a
</span><span style="font-size: 10pt"><tt>start</tt></span><span style="font-size: 10pt">
message to the control file of the process specified by the pid
supplied as its
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
argument.
</span><span style="font-size: 10pt"><tt>start</tt></span><span style="font-size: 10pt">
draws an error if the process is not in the
</span><span style="font-size: 10pt"><tt>Stopped</tt></span><span style="font-size: 10pt">
state.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: start(68382)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: procs()</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>&gt;68382: Running at main+0x4 setproc(68382)</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>startstop(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Restart execution, block until stopped
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>startstop</tt></span><span style="font-size: 10pt">
performs the same actions as a call to
</span><span style="font-size: 10pt"><tt>start</tt></span><span style="font-size: 10pt">
followed by a call to
</span><span style="font-size: 10pt"><tt>stop</tt></span><span style="font-size: 10pt">.
The
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
argument specifies the pid of the process to control. The process
must be in the
</span><span style="font-size: 10pt"><tt>Stopped</tt></span><span style="font-size: 10pt">
state.
Execution is restarted, the debugger then waits for the process to
return to the
</span><span style="font-size: 10pt"><tt>Stopped</tt></span><span style="font-size: 10pt">
state. A process will stop if a startstop message has been written to its control
file and any of the following conditions becomes true: the process executes or returns from
a system call, the process generates a trap or the process receives a note.
</span><span style="font-size: 10pt"><tt>startstop</tt></span><span style="font-size: 10pt">
is used to implement single stepping.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: startstop(pid)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>75374: breakpoint   ls  ADD $-0x16c8,R29</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">  </span><span style="font-size: 10pt"><tt>status(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Return process state
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>status</tt></span><span style="font-size: 10pt">
uses the pid supplied by its
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
argument to generate a string describing the state of the process.
The string corresponds to the state returned by the
sixth column of the
</span><span style="font-size: 10pt"><i>ps</i></span><span style="font-size: 10pt">(1)
command.
A process must be in the
</span><span style="font-size: 10pt"><tt>Stopped</tt></span><span style="font-size: 10pt">
state to modify its memory or registers.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: ""+status(pid)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>Stopped</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>stop(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Wait for a process to stop
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>stop</tt></span><span style="font-size: 10pt">
writes a
</span><span style="font-size: 10pt"><tt>stop</tt></span><span style="font-size: 10pt">
message to the control file of the process specified by the
pid supplied as its
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
argument.
The interpreter blocks until the debugged process enters the
</span><span style="font-size: 10pt"><tt>Stopped</tt></span><span style="font-size: 10pt">
state.
A process will stop if a stop message has been written to its control
file and any of the following conditions becomes true: the process executes or returns from
a system call, the process generates a trap, the process is scheduled or the
process receives a note.
</span><span style="font-size: 10pt"><tt>stop</tt></span><span style="font-size: 10pt">
is used to wait for a process to halt before planting a breakpoint since Plan 9
only allows a process&rsquo;s memory to be written while it is in the
</span><span style="font-size: 10pt"><tt>Stopped</tt></span><span style="font-size: 10pt">
state.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>defn bpset(addr) {</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    if (status(pid)!="Stopped") then {</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>        print("Waiting...\n");</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>        stop(pid);</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    }</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    ...</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>}</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i>list</i></span><span style="font-size: 10pt">  </span><span style="font-size: 10pt"><tt>strace(</tt></span><span style="font-size: 10pt"><i>pc,sp,linkreg</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Stack trace
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>strace</tt></span><span style="font-size: 10pt">
generates a list of lists corresponding to procedures called by the debugged
program. Each sublist describes a single stack frame in the active process.
The first element is an
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
of format
</span><span style="font-size: 10pt"><tt>X</tt></span><span style="font-size: 10pt">
specifying the address of the called function. The second element is the value
of the program counter when the function was called. The third and fourth elements
contain lists of parameter and automatic variables respectively.
Each element of these lists
contains a string with the name of the variable and an
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
value of format
</span><span style="font-size: 10pt"><tt>X</tt></span><span style="font-size: 10pt">
containing the current value of the variable.
The arguments to
</span><span style="font-size: 10pt"><tt>strace</tt></span><span style="font-size: 10pt">
are the current value of the program counter, the current value of the
stack pointer, and the address of the link register. All three parameters
must be integers.
The setting of 
</span><span style="font-size: 10pt"><i>linkreg</i></span><span style="font-size: 10pt">
is architecture dependent. On the MIPS linkreg is set to the address of saved
</span><span style="font-size: 10pt"><tt>R31</tt></span><span style="font-size: 10pt">,
on the SPARC to the address of saved
</span><span style="font-size: 10pt"><tt>R15</tt></span><span style="font-size: 10pt">.
For the other architectures
</span><span style="font-size: 10pt"><i>linkreg</i></span><span style="font-size: 10pt">
is not used, but must point to valid memory.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: print(strace(*PC, *SP, linkreg))</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>{{0x0000141c, 0xc0000f74,</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>{{"s", 0x0000004d}, {"multi", 0x00000000}}, </tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>{{"db", 0x00000000}, {"fd", 0x000010a4},</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>{"n", 0x00000001}, {"i", 0x00009824}}}}</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>waitstop(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Wait for a process to stop
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>waitstop</tt></span><span style="font-size: 10pt">
writes a waitstop message to the control file of the process specified by the
pid supplied as its
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
argument.
The interpreter will remain blocked until the debugged process enters the
</span><span style="font-size: 10pt"><tt>Stopped</tt></span><span style="font-size: 10pt">
state.
A process will stop if a waitstop message has been written to its control
file and any of the following conditions becomes true: the process generates a trap
or receives a note. Unlike
</span><span style="font-size: 10pt"><tt>stop</tt></span><span style="font-size: 10pt">,
the
</span><span style="font-size: 10pt"><tt>waitstop</tt></span><span style="font-size: 10pt">
function is passive; it does not itself cause the program to stop.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: waitstop(pid)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>75374: breakpoint   ls  ADD $-0x16c8,R29</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.17in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><b>Library Functions
</b></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.35in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">A standard debugging environment is provided by modules automatically
loaded when
Acid is started.
These modules are located in the directory
</span><span style="font-size: 10pt"><tt>/sys/lib/acid</tt></span><span style="font-size: 10pt">.
These functions may be overridden, personalized, or added to by code defined in
</span><span style="font-size: 10pt"><tt>$home/lib/acid</tt></span><span style="font-size: 10pt">.
The implementation of these functions can be examined using the
</span><span style="font-size: 10pt"><tt>whatis</tt></span><span style="font-size: 10pt">
operator and then modified during debugging sessions.
</span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.00in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>Bsrc(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Load editor with source
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>Bsrc</tt></span><span style="font-size: 10pt">
interprets the
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
argument as a text address. The text address is used to produce a pathname
and line number suitable for the
</span><span style="font-size: 10pt"><tt>B</tt></span><span style="font-size: 10pt">
command
to send to the text editor
</span><span style="font-size: 10pt"><i>sam</i></span><span style="font-size: 10pt">(1)
or
</span><span style="font-size: 10pt"><i>acme</i></span><span style="font-size: 10pt">(1).
</span><span style="font-size: 10pt"><tt>Bsrc</tt></span><span style="font-size: 10pt">
builds an
</span><span style="font-size: 10pt"><i>rc</i></span><span style="font-size: 10pt">(1)
command to invoke
</span><span style="font-size: 10pt"><tt>B</tt></span><span style="font-size: 10pt">,
which either selects an existing source file or loads a new source file into the editor.
The line of source corresponding to the text address is then selected.
In the following example
</span><span style="font-size: 10pt"><tt>stopped</tt></span><span style="font-size: 10pt">
is redefined so that the editor
follows and displays the source line currently being executed.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>defn stopped(pid) {</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    pstop(pid);</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    Bsrc(*PC);</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>}</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>Fpr(</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Display double precision floating registers
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">For machines equipped with floating point,
</span><span style="font-size: 10pt"><tt>Fpr</tt></span><span style="font-size: 10pt">
displays the contents of the floating point registers as double precision
values.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: Fpr()</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>F0   0. F2   0.</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>F4   0. F6   0.</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>F8   0. F10  0.</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>...</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>Ureg(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Display contents of Ureg structure
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>Ureg</tt></span><span style="font-size: 10pt">
interprets the integer passed as its first argument as the address of a
kernel
</span><span style="font-size: 10pt"><tt>Ureg</tt></span><span style="font-size: 10pt">
structure. Each element of the structure is retrieved and printed.
The size and contents of the
</span><span style="font-size: 10pt"><tt>Ureg</tt></span><span style="font-size: 10pt">
structure are architecture dependent.
This function can be used to decode the first argument passed to a
</span><span style="font-size: 10pt"><i>notify</i></span><span style="font-size: 10pt">(2)
function after a process has received a note.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: Ureg(*notehandler:ur)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    status  0x3000f000</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    pc  0x1020</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    sp  0x7ffffe00</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    cause   0x00004002</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>...</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>acidinit(</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Interpreter startup
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>acidinit</tt></span><span style="font-size: 10pt">
is called by the interpreter after all
modules have been loaded at initialization time.
It is used to set up machine specific variables and the default source path.
</span><span style="font-size: 10pt"><tt>acidinit</tt></span><span style="font-size: 10pt">
should not be called by user code.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>addsrcdir(</tt></span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Add element to source search path
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>addsrcdir</tt></span><span style="font-size: 10pt">
interprets its string argument as a new directory
</span><span style="font-size: 10pt"><tt>findsrc</tt></span><span style="font-size: 10pt">
should search when looking for source code files.
</span><span style="font-size: 10pt"><tt>addsrcdir</tt></span><span style="font-size: 10pt">
draws an error if the directory is already in the source search path. The search
path may be examined by looking at the variable
</span><span style="font-size: 10pt"><tt>srcpath</tt></span><span style="font-size: 10pt">.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: rc("9fs fornax")</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: addsrcpath("/n/fornax/sys/src/cmd")</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>asm(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Disassemble machine instructions
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>asm</tt></span><span style="font-size: 10pt">
interprets its integer argument as a text address from which to disassemble
machine instructions.
</span><span style="font-size: 10pt"><tt>asm</tt></span><span style="font-size: 10pt">
prints the instruction address in symbolic and hexadecimal form, then prints
the instructions with addressing modes. Up to twenty instructions will
be disassembled.
</span><span style="font-size: 10pt"><tt>asm</tt></span><span style="font-size: 10pt">
stops disassembling when it reaches the end of the current function.
Instructions are read from the file image using the
</span><span style="font-size: 10pt"><tt>@</tt></span><span style="font-size: 10pt">
operator.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: asm(main)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>main     0x00001020 ADD    $-0x64,R29</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>main+0x4 0x00001024 MOVW   R31,0x0(R29)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>main+0x8 0x00001028 MOVW   R1,argc+4(FP)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>main+0xc 0x0000102c MOVW   $bin(SB),R1</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>bpdel(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Delete breakpoint
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>bpdel</tt></span><span style="font-size: 10pt">
removes a previously set breakpoint from memory.
The
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
supplied as its argument must be the address of a previously set breakpoint.
The breakpoint address is deleted from the active breakpoint list
</span><span style="font-size: 10pt"><tt>bplist</tt></span><span style="font-size: 10pt">,
then the original instruction is copied from the file image to the memory
image so that the breakpoint is removed.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: bpdel(main+4)</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>bpset(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Set a breakpoint
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>bpset</tt></span><span style="font-size: 10pt">
places a breakpoint instruction at the address specified
by its
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
argument, which must be in the text segment.
</span><span style="font-size: 10pt"><tt>bpset</tt></span><span style="font-size: 10pt">
draws an error if a breakpoint has already been set at the specified address.
A list of current breakpoints is maintained in the variable
</span><span style="font-size: 10pt"><tt>bplist</tt></span><span style="font-size: 10pt">.
Unlike in
</span><span style="font-size: 10pt"><i>db</i></span><span style="font-size: 10pt">(1),
breakpoints are left in memory even when a process is stopped, and
the process must exist, perhaps by being
created by either
</span><span style="font-size: 10pt"><tt>new</tt></span><span style="font-size: 10pt">
or
</span><span style="font-size: 10pt"><tt>win</tt></span><span style="font-size: 10pt">,
in order to place a breakpoint.
(</span><span style="font-size: 10pt"><tt>Db</tt></span><span style="font-size: 10pt">
accepts breakpoint commands before the process is started.)
On the
MIPS and SPARC architectures,
breakpoints at function entry points should be set 4 bytes into the function
because the
instruction scheduler may fill
</span><span style="font-size: 10pt"><tt>JAL</tt></span><span style="font-size: 10pt">
branch delay slots with the first instruction of the function.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: bpset(main+4)</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>bptab(</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        List active breakpoints
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>bptab</tt></span><span style="font-size: 10pt">
prints a list of currently installed breakpoints. The list contains the
breakpoint address in symbolic and hexadecimal form as well as the instruction
the breakpoint replaced. Breakpoints are not maintained across process creation
using
</span><span style="font-size: 10pt"><tt>new</tt></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><tt>win</tt></span><span style="font-size: 10pt">.
They are maintained across a fork, but care must be taken to keep control of
the child process.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: bpset(ls+4)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: bptab()</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    0x00001420 ls+0x4  MOVW R31,0x0(R29)</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>casm(</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Continue disassembly
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>casm</tt></span><span style="font-size: 10pt">
continues to disassemble instructions from where the last
</span><span style="font-size: 10pt"><tt>asm</tt></span><span style="font-size: 10pt">
or
</span><span style="font-size: 10pt"><tt>casm</tt></span><span style="font-size: 10pt">
command stopped. Like
</span><span style="font-size: 10pt"><tt>asm</tt></span><span style="font-size: 10pt">,
this command stops disassembling at function boundaries.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: casm()</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>main+0x10 0x00001030    MOVW    $0x1,R3</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>main+0x14 0x00001034    MOVW    R3,0x8(R29)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>main+0x18 0x00001038    MOVW    $0x1,R5</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>main+0x1c 0x0000103c    JAL Binit(SB)</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>cont(</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Continue program execution
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>cont</tt></span><span style="font-size: 10pt">
restarts execution of the currently active process.
If the process is stopped on a breakpoint, the breakpoint is first removed,
the program is single stepped, the breakpoint is replaced and the program
is then set executing. This may cause
</span><span style="font-size: 10pt"><tt>stopped()</tt></span><span style="font-size: 10pt">
to be called twice.
</span><span style="font-size: 10pt"><tt>cont</tt></span><span style="font-size: 10pt">
causes the interpreter to block until the process enters the
</span><span style="font-size: 10pt"><tt>Stopped</tt></span><span style="font-size: 10pt">
state.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: cont()</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>95197: breakpoint   ls+0x4  MOVW    R31,0x0(R29)</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>dump(</tt></span><span style="font-size: 10pt"><i>integer,integer,string</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Formatted memory dump
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>dump</tt></span><span style="font-size: 10pt">
interprets its first argument as an address, its second argument as a
count and its third as a format string.
</span><span style="font-size: 10pt"><tt>dump</tt></span><span style="font-size: 10pt">
fetches an object from memory at the current address and prints it according
to the format. The address is incremented by the number of bytes specified by
the format and the process is repeated count times. The format string is any
combination of format characters, each preceded by an optional count.
For each object,
</span><span style="font-size: 10pt"><tt>dump</tt></span><span style="font-size: 10pt">
prints the address in hexadecimal, a colon, the object and then a newline.
</span><span style="font-size: 10pt"><tt>dump</tt></span><span style="font-size: 10pt">
uses
</span><span style="font-size: 10pt"><tt>mem</tt></span><span style="font-size: 10pt">
to fetch each object.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: dump(main+35, 4, "X2bi")</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>0x00001043: 0x0c8fa700 108 143 lwc2 r0,0x528f(R4) </tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>0x0000104d: 0xa9006811   0   0 swc3 r0,0x0(R24) </tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>0x00001057: 0x2724e800   4  37 ADD  $-0x51,R23,R31 </tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>0x00001061: 0xa200688d   6   0 NOOP</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>0x0000106b: 0x2710c000   7   0 BREAK</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>findsrc(</tt></span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Use source path to load source file
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>findsrc</tt></span><span style="font-size: 10pt">
interprets its
</span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">
argument as a source file. Each directory in the source path is searched
in turn for the file. If the file is found, the source text is loaded using
</span><span style="font-size: 10pt"><tt>file</tt></span><span style="font-size: 10pt">
and stored in the list of active source files called
</span><span style="font-size: 10pt"><tt>srctext</tt></span><span style="font-size: 10pt">.
The name of the file is added to the source file name list
</span><span style="font-size: 10pt"><tt>srcfiles</tt></span><span style="font-size: 10pt">.
Users are unlikely to call
</span><span style="font-size: 10pt"><tt>findsrc</tt></span><span style="font-size: 10pt">
from the command line, but may use it from scripts to preload source files
for a debugging session. This function is used by
</span><span style="font-size: 10pt"><tt>src</tt></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><tt>line</tt></span><span style="font-size: 10pt">
to locate and load source code. The default search path for the MIPS
is
</span><span style="font-size: 10pt"><tt>./</tt></span><span style="font-size: 10pt">,
</span><span style="font-size: 10pt"><tt>/sys/src/libc/port</tt></span><span style="font-size: 10pt">,
</span><span style="font-size: 10pt"><tt>/sys/src/libc/9sys</tt></span><span style="font-size: 10pt">,
</span><span style="font-size: 10pt"><tt>/sys/src/libc/mips</tt></span><span style="font-size: 10pt">.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: findsrc(pcfile(main));</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>fpr(</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Display single precision floating registers
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt">For machines equipped with floating point,
</span><span style="font-size: 10pt"><tt>fpr</tt></span><span style="font-size: 10pt">
displays the contents of the floating point registers as single precision
values. When the interpreter stores or manipulates floating point values
it converts into double precision values.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: fpr()</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>F0   0. F1   0.</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>F2   0. F3   0.</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>F4   0. F5   0.</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>...</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>func(</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Step while in function
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>func</tt></span><span style="font-size: 10pt">
single steps the active process until it leaves the current function
by either calling another function or returning to its caller.
</span><span style="font-size: 10pt"><tt>func</tt></span><span style="font-size: 10pt">
will execute a single instruction after leaving the current function.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: func()</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>95197: breakpoint   ls+0x8  MOVW    R1,R8</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>95197: breakpoint   ls+0xc  MOVW    R8,R1</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>95197: breakpoint   ls+0x10 MOVW    R8,s+4(FP)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>95197: breakpoint   ls+0x14 MOVW    $0x2f,R5</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>95197: breakpoint   ls+0x18 JAL utfrrune(SB)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>95197: breakpoint   utfrrune    ADD $-0x18,R29</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>gpr(</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Display general purpose registers
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>gpr</tt></span><span style="font-size: 10pt">
prints the values of the general purpose processor registers.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: gpr()</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>R1  0x00009562 R2   0x000010a4 R3   0x00005d08</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>R4  0x0000000a R5   0x0000002f R6   0x00000008</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>...</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>labstk(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Print stack trace from label
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>labstk</tt></span><span style="font-size: 10pt">
performs a stack trace from a Plan 9
</span><span style="font-size: 10pt"><i>label.</i></span><span style="font-size: 10pt">
The kernel,
C compilers store continuations in a common format. Since the
compilers all use caller save conventions a continuation may be saved by
storing a
</span><span style="font-size: 10pt"><tt>PC</tt></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><tt>SP</tt></span><span style="font-size: 10pt">
pair. This data structure is called a label and is used by the
the C function
</span><span style="font-size: 10pt"><tt>longjmp</tt></span><span style="font-size: 10pt">
and the kernel to schedule threads and processes.
</span><span style="font-size: 10pt"><tt>labstk</tt></span><span style="font-size: 10pt">
interprets its
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
argument as the address of a label and produces a stack trace for
the thread of execution. The value of the function
</span><span style="font-size: 10pt"><tt>ALEF_tid</tt></span><span style="font-size: 10pt">
is a suitable argument for
</span><span style="font-size: 10pt"><tt>labstk</tt></span><span style="font-size: 10pt">.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: labstk(*mousetid)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>At pc:0x00021a70:Rendez_Sleep+0x178 rendez.l:44</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>Rendez_Sleep(r=0xcd7d8,bool=0xcd7e0,t=0x0) rendez.l:5</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    called from ALEF_rcvmem+0x198 recvmem.l:45</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>ALEF_rcvmem(c=0x000cd764,l=0x00000010) recvmem.l:6</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>...</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>lstk(</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Stack trace with local variables
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>lstk</tt></span><span style="font-size: 10pt">
produces a long format stack trace.
The stack trace includes each function in the stack,
where it was called from, and the value of the parameters and automatic
variables for each function.
</span><span style="font-size: 10pt"><tt>lstk</tt></span><span style="font-size: 10pt">
displays the value rather than the address of each variable and all
variables are assumed to be an integer in format
</span><span style="font-size: 10pt"><tt>X</tt></span><span style="font-size: 10pt">.
To print a variable in its correct format use the
</span><span style="font-size: 10pt"><tt>:</tt></span><span style="font-size: 10pt">
operator to find the address and apply the appropriate format before indirection
with the
</span><span style="font-size: 10pt"><tt>*</tt></span><span style="font-size: 10pt">
operator. It may be necessary to single step a couple of instructions into
a function to get a correct stack trace because the frame pointer adjustment
instruction may get scheduled down into the body of the function.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: lstk()</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>At pc:0x00001024:main+0x4 ls.c:48</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>main(argc=0x00000001,argv=0x7fffefec) ls.c:48</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    called from _main+0x20 main9.s:10</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    _argc=0x00000000</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    _args=0x00000000</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    fd=0x00000000</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    buf=0x00000000</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    i=0x00000000</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>mem(</tt></span><span style="font-size: 10pt"><i>integer,string</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Print memory object
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>mem</tt></span><span style="font-size: 10pt">
interprets its first
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
argument as the address of an object to be printed according to the
format supplied in its second
</span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">
argument.
The format string can be any combination of format characters, each preceded
by an optional count.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: mem(bdata+0x326, "2c2Xb")</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>P = 0xa94bc464 0x3e5ae44d  19 </tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>new(</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Create new process
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>new</tt></span><span style="font-size: 10pt">
starts a new copy of the debugged program. The new program is started
with the program arguments set by the variable
</span><span style="font-size: 10pt"><tt>progargs</tt></span><span style="font-size: 10pt">.
The new program is stopped in the second instruction of
</span><span style="font-size: 10pt"><tt>main</tt></span><span style="font-size: 10pt">.
The breakpoint list is reinitialized.
</span><span style="font-size: 10pt"><tt>new</tt></span><span style="font-size: 10pt">
may be used several times to instantiate several copies of a program
simultaneously. The user can rotate between the copies using
</span><span style="font-size: 10pt"><tt>setproc</tt></span><span style="font-size: 10pt">.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: progargs="-l"</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: new()</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>60: external interrupt  _main   ADD $-0x14,R29</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>60: breakpoint  main+0x4    MOVW    R31,0x0(R29)</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>next(</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Step through language statement
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>next</tt></span><span style="font-size: 10pt">
steps through a single language level statement without tracing down
through each statement in a called function. For each statement,
</span><span style="font-size: 10pt"><tt>next</tt></span><span style="font-size: 10pt">
prints the machine instructions executed as part of the statement. After
the statement has executed, source lines around the current program
counter are displayed.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: next()</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>60: breakpoint  Binit+0x4 MOVW  R31,0x0(R29)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>60: breakpoint  Binit+0x8 MOVW  f+8(FP),R4</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>binit.c:93</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt> 88 </tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt> 89 int</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt> 90 Binit(Biobuf *bp, int f, int mode)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt> 91 {</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>&gt;92     return Binits(bp, f, mode, bp-&gt;b, BSIZE);</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt> 93 }</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>notestk(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Stack trace after receiving a note
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>notestk</tt></span><span style="font-size: 10pt">
interprets its
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
argument as the address of a
</span><span style="font-size: 10pt"><tt>Ureg</tt></span><span style="font-size: 10pt">
structure passed by the kernel to a
</span><span style="font-size: 10pt"><i>notify</i></span><span style="font-size: 10pt">(2)
function during note processing.
</span><span style="font-size: 10pt"><tt>notestk</tt></span><span style="font-size: 10pt">
uses the
</span><span style="font-size: 10pt"><tt>PC</tt></span><span style="font-size: 10pt">,
</span><span style="font-size: 10pt"><tt>SP</tt></span><span style="font-size: 10pt">,
and link register from the
</span><span style="font-size: 10pt"><tt>Ureg</tt></span><span style="font-size: 10pt">
to print a stack trace corresponding to the point in the program where the note
was received.
To get a valid stack trace on the MIPS and SPARC architectures from a notify
routine, the program must stop in a new function called from the notify routine
so that the link register is valid and the notify routine&rsquo;s parameters are
addressable.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: notestk(*notify:ur)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>Note pc:0x00001024:main+0x4 ls.c:48</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>main(argc=0x00000001,argv=0x7fffefec) ls.c:48</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    called from _main+0x20 main9.s:10</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    _argc=0x00000000</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    _args=0x00000000</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>pfl(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Print source file and line
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>pfl</tt></span><span style="font-size: 10pt">
interprets its argument as a text address and uses it to print
the source file and line number corresponding to the address. The output
has the same format as file addresses in
</span><span style="font-size: 10pt"><i>acme</i></span><span style="font-size: 10pt">(1).
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: pfl(main)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>ls.c:48</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>procs(</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Print active process list
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>procs</tt></span><span style="font-size: 10pt">
prints a list of active process attached to the debugger. Each process
produces a single line of output giving the pid, process state, the address
the process is currently executing, and the
</span><span style="font-size: 10pt"><tt>setproc</tt></span><span style="font-size: 10pt">
command required to make that process current.
The current process is marked in the first column with a
</span><span style="font-size: 10pt"><tt>&gt;</tt></span><span style="font-size: 10pt">
character. The debugger maintains a list of processes in the variable
</span><span style="font-size: 10pt"><tt>proclist</tt></span><span style="font-size: 10pt">.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: procs()</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>&gt;62: Stopped at main+0x4 setproc(62)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt> 60: Stopped at Binit+0x8 setproc(60)</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>pstop(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Print reason process stopped
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>pstop</tt></span><span style="font-size: 10pt">
prints the status of the process specified by the
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
pid supplied as its argument.
</span><span style="font-size: 10pt"><tt>pstop</tt></span><span style="font-size: 10pt">
is usually called from
</span><span style="font-size: 10pt"><tt>stopped</tt></span><span style="font-size: 10pt">
every time a process enters the
</span><span style="font-size: 10pt"><tt>Stopped</tt></span><span style="font-size: 10pt">
state.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: pstop(62)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>0x0000003e: breakpoint  main+0x4    MOVW    R31,0x0(R29)</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>regs(</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Print registers
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>regs</tt></span><span style="font-size: 10pt">
prints the contents of both the general and special purpose registers.
</span><span style="font-size: 10pt"><tt>regs</tt></span><span style="font-size: 10pt">
calls
</span><span style="font-size: 10pt"><tt>spr</tt></span><span style="font-size: 10pt">
then
</span><span style="font-size: 10pt"><tt>gpr</tt></span><span style="font-size: 10pt">
to display the contents of the registers.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>source(</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Summarize source data base
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>source</tt></span><span style="font-size: 10pt">
prints the directory search path followed by a list of currently loaded
source files. The source management functions
</span><span style="font-size: 10pt"><tt>src</tt></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><tt>findsrc</tt></span><span style="font-size: 10pt">
use the search path to locate and load source files. Source files are
loaded incrementally into a source data base during debugging. A list
of loaded files is stored in the variable
</span><span style="font-size: 10pt"><tt>srcfiles</tt></span><span style="font-size: 10pt">
and the contents of each source file in the variable
</span><span style="font-size: 10pt"><tt>srctext</tt></span><span style="font-size: 10pt">.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: source()</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>/n/bootes/sys/src/libbio/</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>/sys/src/libc/port/</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>/sys/src/libc/9sys/</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>/sys/src/libc/mips/</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    binit.c</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>spr(</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Print special purpose registers
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>spr</tt></span><span style="font-size: 10pt">
prints the contents of the processor control and memory management
registers. Where possible, the contents of the registers are decoded
to provide extra information; for example the
</span><span style="font-size: 10pt"><tt>CAUSE</tt></span><span style="font-size: 10pt">
register on the MIPS is
printed both in hexadecimal and using the
</span><span style="font-size: 10pt"><tt>reason</tt></span><span style="font-size: 10pt">
function.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: spr()</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>PC  0x00001024 main+0x4  ls.c:48</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>SP  0x7fffef68 LINK 0x00006264 _main+0x28 main9.s:12</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>STATUS  0x0000ff33 CAUSE    0x00000024 breakpoint</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>TLBVIR  0x000000d3 BADVADR  0x00001020</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>HI  0x00000004 LO       0x00001ff7</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>src(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Print lines of source
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>src</tt></span><span style="font-size: 10pt">
interprets its
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
argument as a text address and uses this address to print 5 lines
of source before and after the address. The current line is marked with a
</span><span style="font-size: 10pt"><tt>&gt;</tt></span><span style="font-size: 10pt">
character.
</span><span style="font-size: 10pt"><tt>src</tt></span><span style="font-size: 10pt">
uses the source search path maintained by
</span><span style="font-size: 10pt"><tt>source</tt></span><span style="font-size: 10pt">
and
</span><span style="font-size: 10pt"><tt>addsrcdir</tt></span><span style="font-size: 10pt">
to locate the required source files.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: src(*PC)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>ls.c:47</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt> 42 Biobuf  bin;</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt> 43 </tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt> 44 #define     HUNK    50</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt> 45 </tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt> 46 void</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>&gt;47 main(int argc, char *argv[])</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt> 48 {</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt> 49     int i, fd;</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt> 50     char buf[64];</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt> 51 </tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt> 52     Binit(&amp;bin, 1, OWRITE);</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>step(</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Single step process
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>step</tt></span><span style="font-size: 10pt">
causes the debugged process to execute a single machine level instruction.
If the program is stopped on a breakpoint set by
</span><span style="font-size: 10pt"><tt>bpset</tt></span><span style="font-size: 10pt">
it is first removed, the single step executed, and the breakpoint replaced.
</span><span style="font-size: 10pt"><tt>step</tt></span><span style="font-size: 10pt">
uses
</span><span style="font-size: 10pt"><tt>follow</tt></span><span style="font-size: 10pt">
to predict the address of the program counter after the current instruction
has been executed. A breakpoint is placed at each of these predicted addresses
and the process is started. When the process stops the breakpoints are removed.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: step()</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>62: breakpoint  main+0x8    MOVW    R1,argc+4(FP)</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>stk(</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Stack trace
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>stk</tt></span><span style="font-size: 10pt">
produces a short format stack trace. The stack trace includes each function
in the stack, where it was called from, and the value of the parameters.
The short format omits the values of automatic variables.
Parameters are assumed to be integer values in the format
</span><span style="font-size: 10pt"><tt>X</tt></span><span style="font-size: 10pt">;
to print a parameter in the correct format use the
</span><span style="font-size: 10pt"><tt>:</tt></span><span style="font-size: 10pt">
to obtain its address, apply the correct format, and use the
</span><span style="font-size: 10pt"><tt>*</tt></span><span style="font-size: 10pt">
indirection operator to find its value.
It may be necessary to single step a couple of instructions into
a function to get a correct stack trace because the frame pointer adjustment
instruction may get scheduled down into the body of the function.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: stk()</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>At pc:0x00001028:main+0x8 ls.c:48</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>main(argc=0x00000002,argv=0x7fffefe4) ls.c:48</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    called from _main+0x20 main9.s:10</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>stmnt(</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Execute a single statement
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>stmnt</tt></span><span style="font-size: 10pt">
executes a single language level statement.
</span><span style="font-size: 10pt"><tt>stmnt</tt></span><span style="font-size: 10pt">
displays each machine level instruction as it is executed. When the executed
statement is completed the source for the next statement is displayed.
Unlike
</span><span style="font-size: 10pt"><tt>next</tt></span><span style="font-size: 10pt">,
the
</span><span style="font-size: 10pt"><tt>stmnt</tt></span><span style="font-size: 10pt">
function will trace down through function calls.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: stmnt()</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>62: breakpoint  main+0x18 MOVW  R5,0xc(R29)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>62: breakpoint  main+0x1c JAL   Binit(SB)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>62: breakpoint  Binit     ADD   $-0x18,R29</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>binit.c:91</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt> 89 int</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt> 90 Binit(Biobuf *bp, int f, int mode)</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>&gt;91 {</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>stopped(</tt></span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Report status of stopped process
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>stopped</tt></span><span style="font-size: 10pt">
is called automatically by the interpreter
every time a process enters the
</span><span style="font-size: 10pt"><tt>Stopped</tt></span><span style="font-size: 10pt">
state, such as when it hits a breakpoint.
The pid is passed as the
</span><span style="font-size: 10pt"><i>integer</i></span><span style="font-size: 10pt">
argument.  The default implementation just calls
</span><span style="font-size: 10pt"><tt>pstop</tt></span><span style="font-size: 10pt">,
but the function may be changed to provide more information or perform fine control
of execution.  Note that
</span><span style="font-size: 10pt"><tt>stopped</tt></span><span style="font-size: 10pt">
should return; for example, calling
</span><span style="font-size: 10pt"><tt>step</tt></span><span style="font-size: 10pt">
in
</span><span style="font-size: 10pt"><tt>stopped</tt></span><span style="font-size: 10pt">
will recur until the interpreter runs out of stack space.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: defn stopped(pid) {</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    if *lflag != 0 then error("lflag modified");</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    }</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: progargs = "-l"</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: new();</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: while 1 do step();</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>&lt;stdin&gt;:7: (error) lflag modified</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: stk()</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>At pc:0x00001220:main+0x200 ls.c:54</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>main(argc=0x00000001,argv=0x7fffffe8) ls.c:48</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>    called from _main+0x20 main9.s:10</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>symbols(</tt></span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Search symbol table
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>symbols</tt></span><span style="font-size: 10pt">
uses the regular expression supplied by
</span><span style="font-size: 10pt"><i>string</i></span><span style="font-size: 10pt">
to search the symbol table for symbols whose name matches the
regular expression.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: symbols("main")</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>main    T   0x00001020</tt></span></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>_main   T   0x0000623c</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.69in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>{}</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>  </tt></span><span style="font-size: 10pt"><tt>win(</tt></span><span style="font-size: 10pt"><i></i></span><span style="font-size: 10pt"><tt>)</tt></span><span style="font-size: 10pt">        Start new process in a window
</span><span style="font-size: 10pt"></span><span style="font-size: 10pt"></span></p><p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.35in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"></span><span style="font-size: 10pt"><tt>win</tt></span><span style="font-size: 10pt">
performs exactly the same function as
</span><span style="font-size: 10pt"><tt>new</tt></span><span style="font-size: 10pt">
but uses the window system to create a new window for the debugged process.
The variable
</span><span style="font-size: 10pt"><tt>progargs</tt></span><span style="font-size: 10pt">
supplies arguments to the new process.
The environment variable
</span><span style="font-size: 10pt"><tt>$8&frac12;srv</tt></span><span style="font-size: 10pt">
must be set to allow the interpreter to locate the mount channel for the
window system.
The window is created in the top left corner of the screen and is
400x600 pixels in size. The
</span><span style="font-size: 10pt"><tt>win</tt></span><span style="font-size: 10pt">
function may be modified to alter the geometry.
The window system will not be able to deliver notes in the new window
since the pid of the created process is not passed when the server is
mounted to create a new window.
</span></p><p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.05in"></p>
<p style="line-height: 1.2em; margin-left: 1.63in; text-indent: 0.00in; margin-right: 1.00in; margin-top: 0; margin-bottom: 0; text-align: justify;">
<span style="font-size: 10pt"><tt>acid: win()</tt></span></p>
<p style="margin-top: 0; margin-bottom: 0.02in"></p>

<p style="margin-top: 0; margin-bottom: 0.50in"></p>
</body>
</html>

